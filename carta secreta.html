<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Carta Secreta para mi niÃ±a</title>

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background-color: #fce4ec;
  overflow: hidden;
}

.screen {
  display: none;
  justify-content: center;
  align-items: center;
  height: 100vh;
  text-align: center;
}

.active { display: flex; }

.password-screen,
.flowers-screen,
.stars-screen {
  flex-direction: column;
}

/* ---------- TECLADO ---------- */
.keypad {
  display: grid;
  grid-template-columns: repeat(3, 60px);
  gap: 10px;
  margin-top: 20px;
}

.key {
  background-color: #f8bbd0;
  border: none;
  border-radius: 10px;
  font-size: 20px;
  padding: 15px;
  cursor: pointer;
}

.input-display {
  font-size: 24px;
  margin-top: 20px;
  letter-spacing: 8px;
}

/* ---------- CARTA ---------- */
.notepad {
  background-color: #fff0f6;
  border: 3px solid #f8bbd0;
  padding: 20px;
  border-radius: 20px;
  max-width: 500px;
  text-align: left;
  font-family: 'Comic Sans MS', cursive;
}

/* ---------- FLORES ---------- */
.flor {
  position: absolute;
  font-size: 24px;
  animation: flotar 3s linear forwards;
}

@keyframes flotar {
  0% { opacity: 1; transform: translateY(0); }
  100% { opacity: 0; transform: translateY(-150px); }
}

/* ---------- ESTRELLAS ---------- */
.stars-screen {
  background: radial-gradient(circle at top, #1b2735, #090a0f);
  color: white;
}

.star {
  position: absolute;
  font-size: 10px;
  animation: twinkle 2s infinite alternate;
}

@keyframes twinkle {
  from { opacity: 0.3; }
  to { opacity: 1; }
}

#promiseBox {
  margin-top: 30px;
  font-size: 1.3em;
  max-width: 80%;
}
</style>
</head>

<body>

<!-- CONTRASEÃ‘A -->
<div id="passwordScreen" class="screen password-screen active">
  <h2>ğŸ”’ Coloca la contraseÃ±a</h2>
  <h3>Pista: dÃ­a que nos conocimos</h3>
  <div class="input-display" id="inputDisplay">â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢</div>

  <div class="keypad">
    <button class="key" onclick="enterDigit('1')">1</button>
    <button class="key" onclick="enterDigit('2')">2</button>
    <button class="key" onclick="enterDigit('3')">3</button>
    <button class="key" onclick="enterDigit('4')">4</button>
    <button class="key" onclick="enterDigit('5')">5</button>
    <button class="key" onclick="enterDigit('6')">6</button>
    <button class="key" onclick="enterDigit('7')">7</button>
    <button class="key" onclick="enterDigit('8')">8</button>
    <button class="key" onclick="enterDigit('9')">9</button>
    <div></div>
    <button class="key" onclick="enterDigit('0')">0</button>
    <div></div>
  </div>
</div>

<!-- CARTA -->
<div id="notepadScreen" class="screen">
  <div class="notepad">
    <h3>ğŸ“… 25 Diciembre 2025</h3>
    <h4>ğŸ’Œ Mi Querida Maria</h4>

    <p>
      Desde que llegaste a mi vida, todo empezÃ³ a brillar.  
      Mi mundo cambiÃ³ por completo y aprendÃ­ lo que es amar.
    </p>

    <p>
      A tu lado me siento amado, cuidado y en paz,  
      como si mi corazÃ³n supiera que contigo es donde quiere estar.
    </p>

    <p>
      Hoy en tu cumpleaÃ±os solo quiero decirte:  
      gracias por existir y por elegirme a mÃ­.
    </p>

    <p>Te amo profundamente â™¡</p>

    <p style="text-align:center; opacity:0.7;">
      (intenta con tu cumpleaÃ±os)
    </p>
  </div>
</div>

<div id="fairytaleScreen" class="screen">
  <div class="book">
    <h2>ğŸ“– Ã‰rase una vezâ€¦</h2>
    <p id="storyText"></p>
    <button onclick="volver()">ğŸ’— Volver</button>
  </div>
</div>

<!-- FLORES -->
<div id="flowersScreen" class="screen flowers-screen">
  <h2>ğŸ’ Para ti, mi amor</h2>
  <p>MantÃ©n presionada la pantalla ğŸ’–</p>
  <div id="flowerMessage"></div>
</div>

<!-- ESTRELLAS -->
<div id="starsScreen" class="screen stars-screen">
  <h2>ğŸŒ™ Promesas bajo las estrellas</h2>
  <p>Toca la pantalla âœ¨</p>
  <div id="promiseBox"></div>
</div>

<div id="historiaScreen" class="screen historia-screen">
  <div class="historia-box">
    <p id="historiaTexto"></p>
    <div id="historiaOpciones"></div>
  </div>
</div>

<script>
/* CONTRASEÃ‘AS */
const passwordCarta = '18032025';
const passwordFlores = '25122025';
const passwordEstrellas = '27032025';
const passwordCuento = '24032025';
const passwordHistoria = '05012026';

/* VARIABLES */
let input = '';
let presionando = false;
let index = 0;
let promesaIndex = 0;

/* MENSAJE FLORES */
const textoFlores =
"Aunque la distancia exista, mi amor por ti no conoce lÃ­mites. Te amo hoy y siempre â¤ï¸(intenta con nuestro aniversario)";

/* FLORES */
const flores = ["ğŸŒ¸","ğŸŒ¹","ğŸŒ¼","ğŸŒº","ğŸ’","ğŸŒ·"];

/* PROMESAS (VERSIÃ“N EXTENDIDA ğŸ’™) */
const promesas = [
  "Prometo cuidarte incluso cuando no sepa cÃ³mo hacerlo ğŸ’–",
  "Prometo ser tu refugio cuando el mundo pese demasiado ğŸŒ·",
  "Prometo amarte en tus dÃ­as buenos y abrazarte mÃ¡s fuerte en los difÃ­ciles ğŸ¤",
  "Prometo escuchar no solo tus palabras, sino tambiÃ©n tus silencios âœ¨",
  "Prometo elegirte incluso en los dÃ­as complicados â¤ï¸",

  "Prometo sacarte sonrisas cuando mÃ¡s las necesites ğŸ˜Š",
  "Prometo tomarte de la mano sin importar el camino ğŸ«¶",
  "Prometo hacerte sentir amada todos los dÃ­as ğŸŒ¸",
  "Prometo cuidar tu corazÃ³n como el tesoro que es ğŸ’",
  "Prometo acompaÃ±arte siempre ğŸŒ™",

  "Prometo que la distancia nunca serÃ¡ mÃ¡s grande que nuestro amor ğŸ’«",
  "Prometo pensar en ti antes de dormir y al despertar ğŸŒŒ",
  "Prometo convertir cada espera en esperanza âœ¨",
  "Prometo que cada reencuentro valdrÃ¡ la pena ğŸ¤",

  "Prometo construir contigo un futuro lleno de amor ğŸ¡",
  "Prometo soÃ±ar a tu lado y luchar por esos sueÃ±os ğŸŒ ",
  "Prometo celebrar cada logro tuyo como si fuera mÃ­o ğŸ‰",
  "Prometo crecer contigo y aprender juntos ğŸŒ±",

  "La Ãºltima promesaâ€¦ cumplir todas las anteriores contigo ğŸŒ™â¤ï¸"
];

const cuento = `
Ã‰rase una vezâ€¦

en un mundo que no parecÃ­a mÃ¡gico a simple vista,
vivÃ­an dos corazones que aÃºn no sabÃ­an
que estaban destinados a encontrarse.

Ella, con una sonrisa capaz de iluminar los dÃ­as mÃ¡s grises,
y Ã©l, con un corazÃ³n lleno de amor esperando a la persona correcta.

El destino, travieso y paciente, decidiÃ³ unir sus caminos
en el momento menos esperado,
y desde ese instante, algo cambiÃ³ para siempre.

Las conversaciones se volvieron refugio,
las risas, un hogar,
y cada mensaje era un pequeÃ±o hechizo
que los acercaba mÃ¡s.

Aunque la distancia intentÃ³ poner pruebas en su camino,
ellos aprendieron que el amor verdadero
no conoce lÃ­mites ni fronteras.

Y este no es el finalâ€¦

Es solo el comienzo de un
â€œfelices por siempreâ€
que aÃºn seguimos escribiendo juntos. â™¡
`;

/* FUNCIONES */
function enterDigit(digit) {
  if (input.length < 8) input += digit;
  document.getElementById("inputDisplay").textContent = input.padEnd(8,"â€¢");

  if (input.length === 8) {

    if (input === passwordCarta) {
      cambiarPantalla("notepadScreen");
    }

    else if (input === passwordCuento) {
      cambiarPantalla("fairytaleScreen");
      escribirCuento(cuento, document.getElementById('storyText'));
    }

    else if (input === passwordFlores) {
      cambiarPantalla("flowersScreen");
    }

    else if (input === passwordEstrellas) {
      cambiarPantalla("starsScreen");
      crearEstrellas();
      promesaIndex = 0;
      document.getElementById("promiseBox").textContent = "";
    }

    else if (input === passwordHistoria) {
      passwordScreen.classList.remove('active');
      historiaScreen.classList.add('active');
      iniciarHistoria();
    }

    else {
      alert("ContraseÃ±a incorrecta ğŸ’”");
    }

    resetInput();
  }
}
  

function escribirCuento(texto, elemento) {
  let i = 0;
  elemento.textContent = '';
  const intervalo = setInterval(() => {
    elemento.textContent += texto[i];
    i++;
    if (i >= texto.length) clearInterval(intervalo);
  }, 40);
}

function cambiarPantalla(id) {
  document.querySelectorAll(".screen").forEach(s => s.classList.remove("active"));
  document.getElementById(id).classList.add("active");

  if (id === "flowersScreen") {
    index = 0;
    document.getElementById("flowerMessage").textContent = "";
  }
}

function resetInput() {
  input = '';
  document.getElementById("inputDisplay").textContent = "â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢";
}

/* FLORES */
function crearFlor() {
  const flor = document.createElement("div");
  flor.className = "flor";
  flor.textContent = flores[Math.floor(Math.random()*flores.length)];
  flor.style.left = Math.random()*window.innerWidth+"px";
  flor.style.bottom = "0px";
  document.body.appendChild(flor);
  setTimeout(()=>flor.remove(),3000);
}

setInterval(()=>{
  if (presionando && document.getElementById("flowersScreen").classList.contains("active")) {
    crearFlor();
    if (index < textoFlores.length) {
      document.getElementById("flowerMessage").textContent += textoFlores[index++];
    }
  }
},150);

/* ESTRELLAS */
function crearEstrellas() {
  document.querySelectorAll(".star").forEach(e=>e.remove());
  for (let i=0;i<60;i++){
    const star=document.createElement("div");
    star.className="star";
    star.textContent="âœ¦";
    star.style.left=Math.random()*window.innerWidth+"px";
    star.style.top=Math.random()*window.innerHeight+"px";
    star.style.fontSize=Math.random()*10+6+"px";
    document.body.appendChild(star);
  }
}

document.addEventListener("click",()=>{
  if (
    document.getElementById("starsScreen").classList.contains("active")
    && promesaIndex < promesas.length
  ) {
    document.getElementById("promiseBox").textContent = promesas[promesaIndex++];
  }
});

document.addEventListener("mousedown",()=>presionando=true);
document.addEventListener("mouseup",()=>presionando=false);
document.addEventListener("touchstart",()=>presionando=true);
document.addEventListener("touchend",()=>presionando=false);

function volver() {
  fairytaleScreen.classList.remove('active');
  passwordScreen.classList.add('active');
  input = '';
  document.getElementById('inputDisplay').textContent = 'â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢';
}
let mostrandoOpciones = false;
let pasoHistoria = 0;

const historia = [
  {
  texto: 
`En un lugar donde los sentimientos no vivÃ­an dentro de las personas,
sino que caminaban libres por el mundo,
existÃ­a un valle silencioso
donde cada emociÃ³n tenÃ­a forma, voz y destino.

AllÃ­ vivÃ­an la AlegrÃ­a,
que iluminaba los caminos con risas suaves;
el Miedo, que se escondÃ­a en las sombras;
la Tristeza, que lloraba junto a los rÃ­os;
la Esperanza, que nunca gritaba, pero siempre resistÃ­a.

Y entre todos ellosâ€¦
vivÃ­a el Amor.

El Amor no era ruidoso.
Era cÃ¡lido, tranquilo, profundo.
TenÃ­a la costumbre de quedarse un poco mÃ¡s
en los lugares donde hacÃ­a falta.
No prometÃ­a eternidades,
pero cuando estaba presente,
todo parecÃ­a tener sentido.

Muy cerca de Ã©l vivÃ­a la Locura.

La Locura no era caos.
Era intensidad.
Era sentirlo todo sin filtros,
amar con el pecho abierto,
reÃ­r sin miedo al juicio
y llorar sin esconderse.

La Locura observaba al Amor desde lejos.
No por miedo,
sino por respeto.
Porque sabÃ­a que el Amor no se persigueâ€¦
se elige.

AsÃ­ pasaban los dÃ­as.
El mundo seguÃ­a girando,
las emociones cumplÃ­an su destino,
y todo parecÃ­a estar en equilibrioâ€¦

Hasta que una maÃ±ana,
el Amor desapareciÃ³.

No hubo despedidas.
No hubo explicaciones.
Solo un vacÃ­o extraÃ±o en el aire.

La AlegrÃ­a dejÃ³ de cantar.
La Tristeza llorÃ³ sin consuelo.
La Esperanza se volviÃ³ silenciosa,
aunque no se apagÃ³.

El Tiempo avanzaba,
pero algo se sentÃ­a incompleto.

Muchos dijeron que no valÃ­a la pena buscarlo.
Otros aseguraron que el Amor siempre se va.
Algunos afirmaron que nunca habÃ­a sido real.

Pero la Locura no escuchÃ³ a nadie.

SintiÃ³ el vacÃ­o.
Y con eso fue suficiente.`,
  opciones: [
    { texto: "Continuar âœ¨", next: 1 }
  ]
},
  {
    texto: "En un lugar donde los sentimientos no vivÃ­an dentro de las personas, decidiÃ³ buscarlo.",
    opciones: [
      { texto: "Seguir al corazÃ³n ğŸ’—", next: 2 },
      { texto: "Avanzar con calma ğŸŒ™", next: 2 }
    ]
  },
  {
  texto: 
`Sin mapas,
sin promesas,
con el corazÃ³n latiendo mÃ¡s fuerte que el miedo,
la Locura emprendiÃ³ el viaje.

CaminÃ³ por senderos donde la Noche era larga
y los pensamientos pesaban.
AllÃ­ se encontrÃ³ con la Duda,
que le susurrÃ³ con voz suave pero cruel:

â€”Â¿Y si no te elige?
â€”Â¿Y si ya no te necesita?

La Locura temblÃ³â€¦
pero siguiÃ³ caminando

`,
  opciones: [
    { texto: "Continuar âœ¨", next: 3 }
  ]
},
  {
    texto: "El camino fue largo. La duda apareciÃ³. El cansancio pesÃ³. Pero la Locura siguiÃ³.",
    opciones: [
      { texto: "Descansar un momento ğŸŒ¿", next: 4 },
      { texto: "Seguir aunque duela ğŸ”¥", next: 4 }
    ]
  },
  {
  texto: 
`MÃ¡s adelante cruzÃ³ el territorio de la Distancia,
un lugar donde cada paso parecÃ­a eterno
y donde el eco de la soledad intentaba cansarla.

AllÃ­ apareciÃ³ el Cansancio,
que le dijo:

â€”Amar tambiÃ©n duele.
â€”Buscar tambiÃ©n desgasta.

Hubo dÃ­as en los que la Locura se detuvo.
No porque quisiera rendirse,
sino porque amar tambiÃ©n cansa
cuando no sabes si llegarÃ¡s.
Entonces apareciÃ³ el Tiempo,
con su voz serena,
y le dijo:

â€”Lo que es real no se pierde.
â€”Solo se transforma.
â€”Solo espera.

La Locura respirÃ³ hondo
y continuÃ³.

En el camino aprendiÃ³ a ser paciente,
a amar sin exigir,
a esperar sin olvidar,
a soltar sin dejar de sentir.

AprendiÃ³ que amar no siempre es correr,
a veces es quedarse de pie
aunque el corazÃ³n duela.

Y un dÃ­a,
cuando ya no buscaba con desesperaciÃ³n
sino con esperanza,
lo encontrÃ³.

El Amor estaba ahÃ­.

No brillante como antes.
No perfecto.
Pero real.

TenÃ­a cicatrices,
un cansancio suave en la mirada
y una tristeza que no pedÃ­a ser salvada.

La Locura se acercÃ³ despacio,
con el cuidado de quien ama de verdad.

No prometiÃ³ eternidades imposibles.
No jurÃ³ perfecciÃ³n.

Solo dijo:

â€”No sÃ© quÃ© nos esperaâ€¦
â€”pero si decides quedarte,
â€”yo te elijo todos los dÃ­as.

El Amor guardÃ³ silencio.
MirÃ³ a la Locura
y entendiÃ³ algo importante:

Que no todos los que buscan quieren poseer.
Que no todos los que aman quieren cambiarte.
Que a veces,
el amor mÃ¡s puro
es el que se queda incluso cuando todo pesa.

Y entoncesâ€¦
el Amor sonriÃ³.

Desde ese dÃ­a,
dicen que el Amor camina junto a la Locura.

No porque estÃ© perdido.
Sino porque encontrÃ³ a alguien
que lo amÃ³ sin condiciones,
que lo buscÃ³ sin garantÃ­as
y que lo eligiÃ³ incluso en la distancia.

Y aunque esta historia parezca un cuento,
hay quienes creen
que sigue ocurriendo
en algÃºn lugar del mundo realâ€¦

Donde dos corazones
se buscan,
se esperan
y se eligen
un dÃ­a a la vez. âœ¨

`,
  opciones: [
    { texto: "Continuar âœ¨", next: 5 }
  ]
},
  {
    texto: "Al final del camino, la Locura encontrÃ³ al Amor. No perfecto, pero real.",
    opciones: [
      { texto: "Decir: Te necesito", next: 6 },
      { texto: "Decir: Te elijo", next: 6 }
    ]
  },
  {
    texto:
      "â€”No prometo perfecciÃ³n â€”dijo la Locuraâ€” pero si decides quedarteâ€¦\n" +
      "yo te elijo todos los dÃ­as.\n\n" +
      "Y el Amor sonriÃ³. âœ¨\n\nğŸ’– Finâ€¦ o comienzo.",
    opciones: []
  }
];

function iniciarHistoria() {
  pasoHistoria = 0;
  mostrarPasoHistoria();
}
function mostrarBotonContinuar(h) {
  const opcionesDiv = document.getElementById("historiaOpciones");

  // Si no hay opciones, es el final
  if (h.opciones.length === 0) return;

  const btn = document.createElement("button");
  btn.textContent = "Continuar âœ¨";
  btn.onclick = () => mostrarOpciones(h);

  opcionesDiv.appendChild(btn);
}
function mostrarOpciones(h) {
  const opcionesDiv = document.getElementById("historiaOpciones");
  opcionesDiv.innerHTML = "";

  h.opciones.forEach(op => {
    const btn = document.createElement("button");
    btn.textContent = op.texto;
    btn.onclick = () => {
      pasoHistoria = op.next;
      mostrarPasoHistoria();
    };
    opcionesDiv.appendChild(btn);
  });
}
function mostrarPasoHistoria() {
  const h = historia[pasoHistoria];
  const textoEl = document.getElementById("historiaTexto");
  const opcionesDiv = document.getElementById("historiaOpciones");

  textoEl.textContent = "";
  opcionesDiv.innerHTML = "";
  mostrandoOpciones = false;

  // EFECTO ESCRITURA
  let i = 0;
  const intervalo = setInterval(() => {
    textoEl.textContent += h.texto[i];
    i++;
    if (i >= h.texto.length) {
      clearInterval(intervalo);
      mostrarBotonContinuar(h);
    }
  }, 25);
}
</script>

</body>
</html>